@font-face { font-family: 'Taigi Font'; src: url('../font/Charis-Regular.woff2') format('woff2'); font-weight: 400; font-style: normal; }
@font-face { font-family: 'Taigi Font'; src: url('../font/Charis-Bold.woff2') format('woff2'); font-weight: 700; font-style: normal; }

:root { --bg-paper:#FFFDF5; --primary-lime:#A8C834; --text-header:#556B2F; --accent-purple:#7E7CB0; --text-body:#545454; }

body { 
    margin:0; 
    font-family: 'Taigi Font', serif; /* UPDATED FONT */
    background:var(--bg-paper); color:var(--text-body); 
    height:100vh; height:100dvh; 
    display:flex; flex-direction:column; overflow:hidden; 
}

header { 
    flex-shrink:0; background:rgba(255,253,245,0.95); padding:15px 20px; 
    padding-top: max(15px, env(safe-area-inset-top));
    display:flex; align-items:center; border-bottom:1px solid rgba(168,200,52,0.3); 
}
.back-btn { text-decoration:none; color:var(--accent-purple); font-weight:bold; margin-right:15px; display:flex; align-items:center; gap:6px;}

#main-container { flex-grow:1; display:flex; flex-direction:column; overflow-y:auto; }

#video-section { 
    flex-shrink:0; position:sticky; top:0; background:var(--bg-paper); width:100%; z-index:10; 
    padding:10px; border-bottom:1px solid #eee; display:flex; justify-content:center; 
}
#player { width:100%; max-width:500px; aspect-ratio:16/9; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.1); }

#cards-container { 
    padding:20px; display:grid; grid-template-columns:repeat(auto-fill, minmax(160px, 1fr)); 
    gap:15px; max-width:1200px; margin:0 auto; width:100%; box-sizing:border-box; 
    padding-bottom: max(50px, env(safe-area-inset-bottom));
}

.card { 
    background:white; border-radius:12px; padding:15px; cursor:pointer; 
    border-top:4px solid var(--accent-purple); box-shadow:0 3px 10px rgba(0,0,0,0.05); transition:0.2s; 
    min-height: 100px; display: flex; flex-direction: column;
}
@media (hover: hover) { .card:hover { transform:translateY(-4px); box-shadow:0 10px 25px rgba(168,200,52,0.15); border-top-color:var(--primary-lime); } }
.card.active { background:#F4F9F4; border-top-color:var(--primary-lime); box-shadow:0 0 0 2px var(--primary-lime); }

.card-word { font-size:1.3rem; font-weight:700; color:var(--text-header); margin-bottom:5px; }
.card-def { font-size:0.95rem; color:var(--text-body); font-style:italic; flex-grow: 1;}
.timestamp { font-size:0.75rem; color:#999; margin-top:10px; text-align:right; }

@media (min-width: 900px) {
    #main-container { flex-direction:row; overflow:hidden; }
    #video-section { width:40%; height:100%; border-right:1px solid rgba(168,200,52,0.2); align-items:center; padding:40px; }
    #cards-container { width:60%; overflow-y:auto; align-content:start; padding: 40px;}
    #player { max-width: 100%; }
}
