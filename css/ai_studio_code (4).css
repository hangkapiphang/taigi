@import url('https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,600;1,400&family=Noto+Serif+TC:wght@300;500;700&display=swap');
:root { --bg-paper:#FFFDF5; --primary-lime:#A8C834; --text-header:#556B2F; --accent-purple:#7E7CB0; --text-body:#545454; }

body { margin:0; font-family:'Lora','Noto Serif TC',serif; background:var(--bg-paper); color:var(--text-body); height:100vh; height:100dvh; display:flex; flex-direction:column; overflow:hidden; }
header { flex-shrink:0; background:rgba(255,253,245,0.95); padding:15px 30px; display:flex; align-items:center; border-bottom:1px solid rgba(168,200,52,0.3); padding-top: max(15px, env(safe-area-inset-top)); }
.back-btn { text-decoration:none; color:var(--accent-purple); font-weight:bold; margin-right:20px; display: flex; align-items: center; gap: 6px;}
.back-btn:hover { color:var(--primary-lime); }
#main-container { flex-grow:1; display:flex; flex-direction:column; overflow-y:auto; }

#video-section { flex-shrink:0; position:sticky; top:0; background:var(--bg-paper); width:100%; z-index:10; padding:10px; border-bottom:1px solid #eee; display:flex; justify-content:center; }
#player { width:100%; max-width:600px; aspect-ratio:16/9; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.1); }

#cards-container { padding:30px; display:grid; grid-template-columns:repeat(auto-fill, minmax(200px, 1fr)); gap:20px; max-width:1200px; margin:0 auto; width:100%; box-sizing:border-box; padding-bottom: 80px;}
.card { background:white; border-radius:12px 12px 12px 0; padding:20px; cursor:pointer; border-top:4px solid var(--accent-purple); box-shadow:0 5px 15px rgba(0,0,0,0.05); transition:0.2s; }
.card:hover { transform:translateY(-4px); box-shadow:0 10px 25px rgba(168,200,52,0.15); border-top-color:var(--primary-lime); }
.card.active { background:#F4F9F4; border-top-color:var(--primary-lime); box-shadow:0 0 0 2px var(--primary-lime); }

.card-word { font-size:1.4rem; font-weight:700; color:var(--text-header); margin-bottom:8px; }
.card-def { font-size:1rem; color:var(--text-body); font-style:italic; }
.timestamp { font-size:0.8rem; color:#999; margin-top:15px; text-align:right; }
.loading { grid-column:1/-1; text-align:center; color:var(--accent-purple); }

@media (min-width: 900px) {
    #main-container { flex-direction:row; overflow:hidden; }
    #video-section { width:45%; height:100%; border-right:1px solid rgba(168,200,52,0.2); align-items:center; padding:40px; }
    #cards-container { width:55%; overflow-y:auto; align-content:start; }
}