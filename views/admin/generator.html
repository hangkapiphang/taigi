<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinema Admin (Compact)</title>
    
    <!-- Link to external CSS -->
    <link rel="stylesheet" href="../../css/generator.css">
</head>
<body>

    <div id="video-container">
        <div id="preview-mask"></div>
        <div id="player"></div>
        <div id="subtitle">Subtitle Preview</div>
    </div>
    <textarea id="rawContentStorage"></textarea>

    <div id="controls">
        <!-- C1R1: APPEARANCE -->
        <div class="panel">
            <h4>Subtitle Appearance</h4>
            
            <div class="slider-row">
                <label>Text Color:</label><input type="color" id="subColor" value="#ffffff" oninput="updateSubtitleStyle()">
                <label style="width:auto; margin-left:10px;">Box Color:</label><input type="color" id="subBoxColor" value="#000000" oninput="updateSubtitleStyle()">
            </div>

            <div class="slider-row"><label>Box Opacity:</label><input type="range" id="subBoxOp" min="0" max="100" value="40" oninput="updateSubtitleStyle()"><span id="valBoxOp">40%</span></div>
            
            <div class="slider-row">
                <label>Shadow:</label>
                <input type="color" id="subShadowColor" value="#444444" oninput="updateSubtitleStyle()">
                <input type="range" id="subShadow" min="0" max="10" value="3" oninput="updateSubtitleStyle()" style="margin-left:5px;">
                <span id="valShadow">3</span>
            </div>
            
            <div class="slider-row"><label>Size:</label><input type="range" id="subSize" min="50" max="200" value="100" oninput="updateSubtitleStyle()"><span id="valSize">100%</span></div>
            <div class="slider-row"><label>Pos:</label><select id="subAnchor" onchange="updateSubtitleStyle()"><option value="top">Top</option><option value="bottom">Bottom</option></select><span></span></div>
            <div class="slider-row"><label>Offset:</label><input type="range" id="subOffset" min="5" max="90" value="5" oninput="updateSubtitleStyle()"><span id="valOffset">5%</span></div>
        </div>

        <!-- C2R1: MASK -->
        <div class="panel">
            <h4>Mask Settings</h4>
            <div class="slider-row"><label>Color:</label><input type="color" id="mColor" value="#000000" oninput="updateMask()">
            <label style="width:auto; margin-left:10px;">Opacity:</label><input type="range" id="mOpacity" min="0" max="100" value="100" oninput="updateMask()"></div>
            
            <div class="slider-row"><label>Height:</label><input type="range" id="mHeight" min="0" max="100" value="0" oninput="updateMask()"></div>
            <div class="slider-row"><label>Width:</label><input type="range" id="mWidth" min="0" max="100" value="100" oninput="updateMask()"></div>
            <div class="slider-row"><label>Bottom:</label><input type="range" id="mBottom" min="0" max="100" value="0" oninput="updateMask()"></div>
            <div class="slider-row"><label>Left:</label><input type="range" id="mLeft" min="0" max="100" value="0" oninput="updateMask()"></div>
        </div>

        <!-- C1R2: GITHUB -->
        <div class="panel gh-settings">
            <h4>GitHub Settings</h4>
            <input type="text" id="ghUsername" placeholder="Username" />
            <input type="text" id="ghRepo" placeholder="Repo" />
            <input type="password" id="ghToken" placeholder="Token" />
            <button onclick="saveSettings()" style="background:#ffc107; color:black; margin-top:5px;">Save Credentials</button>
        </div>

        <!-- C2R2: LOADERS -->
        <div class="panel">
            <h4>Content Loader</h4>
            <div class="loader-row"><input type="text" id="youtubeUrl" placeholder="YouTube URL" /><button onclick="loadVideo()">Load Video</button></div>
            <div class="loader-row"><button onclick="document.getElementById('srtFile').click()" style="background:#28a745; width:100%;">Load Local .SRT</button><input type="file" id="srtFile" accept=".srt" /></div>
            <div class="loader-row"><input type="text" id="subtitleUrl" placeholder="GitHub Raw URL..." /><button onclick="fetchSubtitleFromUrl()" style="background:#17a2b8;">Fetch</button></div>
        </div>

        <button class="upload-btn" onclick="uploadToGitHub()">★ UPLOAD TO GITHUB ★</button>

        <div id="result-area">
            <h4 style="margin:0; color:#28a745;">Success! (Wait 30s)</h4>
            <input type="text" id="finalLink" readonly>
        </div>
    </div>

    <!-- YouTube API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <!-- Link to external JS -->
    <script src="../../js/generator.js"></script>
</body>
</html>
